
HTTP - текстовый протокол с помощью которого заимодействуют клиент и сервер. Клиент шлет запрос на сервер, сервер в зависимости от запроса выполняет нужную логику и возвращает ответ. 

HTTP - не как не может связаться с сервером самостоятельно, это делает TCP, которая создают соединение между двумя удаленными компьютерами, после этого можно передавать запросы на удаленный сервер. 

# Что представляет из себя запрос

![[Что из себя представляет запрос HTTP.png]]

Запрос состоит из 2-ых частей. Первый - request line(Стартовая строка). Вторая заголовки.

В стартовой строке мы указываем специальное слово еще его называют глаголом. В нашем случае HEAD, благодаря глаголам сервер понимает как реагировать на данный запрос. В нашем случаем он просит вернуть только заголовки без содержимого 

После глагола указывается путь в нашем случае это / - это обозначает корень сайта, после этого мы указываем версию протокола 

Дальше идут заголовки. Что это? Заголовки позволяют передавать дополнительную информацию, например браузеры предоставляют информацию о себе, чтобы было понятно откуда идет запрос. Кроме этого они указывают какие форматы сжатия поддерживают, в каком формате готовы принимать ответ и так далее. Количество стандартных заголовков достаточно большое, помимо них можно добавлять любые свои.

Давайте рассмотрим, как выглядят заголовки. Мы указываем имя и через двоеточие какое-то значение: _REFERER: value_. Заголовки часто указывают заглавными буквами, но регистр здесь не важен. Порядок заголовков также не специфицирован. В каком бы порядке мы ни передали заголовки, тело ответа будет разбираться только все вместе.

Браузерами используется много заголовков, например, _user-agent_. Этот заголовок используется для аналитики, а также, когда необходимо адаптировать страницы сайта под разные экраны или браузеры. Но и без него все должно работать:


# Что представляет из себя ответ

![[Ответ HTTP запроса.png]]


В ответ к нам приходит _response_. Он состоит из _status line_ `HTTP/1.0 200 OK`. Это строка ответа, в которой указан протокол (здесь он совпадает) и статус ответа `200 OK`. В HTTP определено множество различных статусов (400, 500 и т.д.). Они могут информировать, что информация была не найдена, были ошибки на сервере и т.д. Все статусы имеют мнемоническое название, которое передается так же последним значением. 200 и `OK` обозначает, что все прошло хорошо — _success_!



В конце мы видим одну интересную деталь: _Connection closed by foreign host._ Запрос соединения был закрыт внешним хостом. Так работает практически все в интернете. Обычно сервера настроены на 30-секундный интервал и закрывают соединение, если в течение этого интервала ничего не приходит.

Поэтому с telnet новичкам работать чуть тяжелее. Они медленно набирают запрос, и за это время соединение закрывается, что довольно неприятно. Поэтому лучше делать записи в отдельном файле и после этого вставлять их в telnet.